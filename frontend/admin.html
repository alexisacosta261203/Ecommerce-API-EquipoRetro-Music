<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Retro Music | Panel de Administrador</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fuente retro -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<div class="admin-layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-img-wrapper">
                <img src="img/logo.png" alt="Retro Music logo" class="logo-img">
            </div>
            <div class="logo-text">
                <h1>Retro Music</h1>
                <span>Panel de administrador</span>
            </div>
        </div>

        <div>
            <div class="sidebar-section-title">Navegaci√≥n</div>
            <div class="menu">
                <button class="menu-btn active" data-section="productos">
                    <span class="icon">üìÄ</span>
                    Productos
                </button>
                <button class="menu-btn" data-section="ordenes">
                    <span class="icon">üßæ</span>
                    √ìrdenes
                </button>
                <button class="menu-btn" data-section="usuarios">
                    <span class="icon">üë§</span>
                    Usuarios
                </button>
                <button class="menu-btn" data-section="ajustes">
                    <span class="icon">‚öôÔ∏è</span>
                    Ajustes
                </button>
            </div>
        </div>

        <div>
            <div class="sidebar-section-title">Resumen r√°pido</div>
            <div class="summary-card">
                <div>
                    <span class="label">Productos</span><br>
                    <span class="value" id="summary-total">0</span>
                </div>
                <div>
                    <span class="label">Vinilos</span><br>
                    <span class="value" id="summary-vinilos">0</span>
                </div>
                <div>
                    <span class="label">Cassettes</span><br>
                    <span class="value" id="summary-cassettes">0</span>
                </div>
                <div>
                    <span class="label">CDs</span><br>
                    <span class="value" id="summary-cds">0</span>
                </div>
            </div>
            <div class="badge-status">
                <div class="badge-status-dot"></div>
                Panel listo para conectar al back-end
            </div>
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
        <!-- HEADER -->
        <div class="main-header">
            <div class="main-header-info">
                <h2>
                    Gesti√≥n de productos
                    <span class="emoji">üéõÔ∏è</span>
                </h2>
                <p>Administra el cat√°logo, las ventas y el inventario de Retro Music.</p>
            </div>

            <!-- Estado de sesi√≥n del admin (puntos 14, 22, 23) -->
            <div class="admin-session">
                <div id="adminLoggedOut">
                    <span class="admin-label">No has iniciado sesi√≥n</span>
                    <input type="text" id="adminNameInput" placeholder="Nombre del admin" />
                    <button type="button" class="btn-mini" id="loginBtn">Iniciar sesi√≥n</button>
                </div>
                <div id="adminLoggedIn" class="hidden">
                    <span class="admin-label">
                        Admin: <span id="adminNameText"></span>
                    </span>
                    <button type="button" class="btn-mini btn-mini-outline" id="logoutBtn">Cerrar sesi√≥n</button>
                </div>
            </div>
        </div>

        <!-- SECCI√ìN PRODUCTOS -->
        <section class="panel-section active" data-section="productos">
            <div class="top-actions">
                <div class="pill">
                    <div class="pill-dot"></div>
                    Modo administrador ‚Äì Sesi√≥n activa
                </div>

                <div class="search-wrapper">
                    <input
                        type="text"
                        id="searchInput"
                        class="search-input"
                        placeholder="Buscar por nombre o artista..."
                    />
                    <span class="search-icon">üîç</span>
                </div>

                <select id="filterCategory" class="filter-select">
                    <option value="todas">Todas las categor√≠as</option>
                    <option value="vinilo">Vinilos</option>
                    <option value="cassette">Cassettes</option>
                    <option value="cd">CDs</option>
                    <option value="playera">Playeras</option>
                    <option value="poster">Posters</option>
                </select>

                <button type="button" class="btn-primary" id="scrollToFormBtn">
                    <span>Ôºã</span> Nuevo producto
                </button>
            </div>

            <div class="content">
                <!-- FORMULARIO PRODUCTO (alta / edici√≥n ‚Äì puntos 15 y 17) -->
                <section class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="formTitle">Agregar producto</h3>
                            <span id="formSubtitle">Completa los campos para a√±adir un nuevo art√≠culo al cat√°logo.</span>
                        </div>
                    </div>

                    <form id="productForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="name">Nombre del producto *</label>
                                <input
                                    type="text"
                                    id="name"
                                    class="form-control"
                                    placeholder="Ej. Album Thriller (Edici√≥n vinilo)"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="artist">Artista / Banda *</label>
                                <input
                                    type="text"
                                    id="artist"
                                    class="form-control"
                                    placeholder="Ej. Michael Jackson"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="category">Categor√≠a *</label>
                                <select id="category" class="form-select" required>
                                    <option value="">Selecciona una opci√≥n</option>
                                    <option value="vinilo">Vinilo</option>
                                    <option value="cassette">Cassette</option>
                                    <option value="cd">CD</option>
                                    <option value="playera">Playera</option>
                                    <option value="poster">Poster</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="price">Precio (MXN) *</label>
                                <input
                                    type="number"
                                    id="price"
                                    class="form-control"
                                    placeholder="Ej. 599"
                                    min="0"
                                    step="0.01"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="stock">Stock *</label>
                                <input
                                    type="number"
                                    id="stock"
                                    class="form-control"
                                    placeholder="Ej. 10"
                                    min="0"
                                    step="1"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="image">URL de imagen (opcional)</label>
                                <input
                                    type="url"
                                    id="image"
                                    class="form-control"
                                    placeholder="https://tus-imagenes.com/thriller-vinilo.jpg"
                                />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="description">Descripci√≥n breve</label>
                            <textarea
                                id="description"
                                class="form-textarea"
                                placeholder="Edici√≥n cl√°sica en vinilo, portada original y sonido remasterizado."
                            ></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-outline" id="resetFormBtn">
                                Limpiar formulario
                            </button>
                            <button type="submit" class="btn-primary">
                                <span id="submitText">Guardar producto</span>
                            </button>
                        </div>
                    </form>
                </section>

                <!-- TABLA PRODUCTOS (lista, baja, inventario 0 ‚Äì puntos 15,16,21) -->
                <section class="card-plain">
                    <div class="card-header">
                        <div>
                            <h3>Productos registrados</h3>
                            <span id="productsCounter">0 productos en el cat√°logo.</span>
                        </div>
                    </div>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Categor√≠a</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Acciones</th>
                            </tr>
                            </thead>
                            <tbody id="productsTableBody">
                            <!-- Filas generadas por JS -->
                            </tbody>
                        </table>

                        <div id="emptyState" class="empty-state">
                            No hay productos registrados a√∫n.
                            <span>Agrega tu primer vinilo, cassette o CD con el formulario de la izquierda.</span>
                        </div>
                    </div>
                </section>
            </div>

            <!-- REPORTE DE EXISTENCIAS (punto 20) -->
            <section class="card-plain inventory-card">
                <div class="card-header">
                    <div>
                        <h3>Reporte de existencias</h3>
                        <span>Resumen de inventario por producto y categor√≠a.</span>
                    </div>
                </div>
                <div class="table-wrapper small">
                    <table>
                        <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Categor√≠a</th>
                            <th>Stock</th>
                            <th>Estado</th>
                        </tr>
                        </thead>
                        <tbody id="inventoryReportBody">
                        <!-- Rellenado por JS -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- VENTAS Y GR√ÅFICA (puntos 18 y 19) -->
            <section class="sales-grid">
                <!-- Registrar venta -->
                <section class="card">
                    <div class="card-header">
                        <div>
                            <h3>Registrar venta</h3>
                            <span>Selecciona un producto y cu√°ntas unidades se vendieron.</span>
                        </div>
                    </div>

                    <form id="saleForm">
                        <div class="form-grid sales-form-grid">
                            <div class="form-group">
                                <label for="saleProduct">Producto *</label>
                                <select id="saleProduct" class="form-select" required>
                                    <!-- Opciones generadas por JS -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="saleQuantity">Cantidad *</label>
                                <input
                                    type="number"
                                    id="saleQuantity"
                                    class="form-control"
                                    min="1"
                                    step="1"
                                    value="1"
                                    required
                                />
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                Registrar venta
                            </button>
                        </div>
                    </form>
                </section>

                <!-- Resumen de ventas + gr√°fica -->
                <section class="card-plain">
                    <div class="card-header">
                        <div>
                            <h3>Resumen de ventas</h3>
                            <span>Totales actualizados en tiempo real.</span>
                        </div>
                    </div>

                    <div class="sales-summary">
                        <div class="summary-box">
                            <span class="label">Total de ventas (tickets)</span>
                            <span class="value" id="totalSalesCount">0</span>
                        </div>
                        <div class="summary-box">
                            <span class="label">Ingresos totales</span>
                            <span class="value" id="totalSalesAmount">$0</span>
                        </div>
                    </div>

                    <div class="chart-wrapper">
                        <canvas id="salesChart"></canvas>
                    </div>
                </section>
            </section>

            <!-- FOOTER -->
            <footer class="footer">
                <span>Retro Music ¬∑ Panel de administraci√≥n</span>
                <span><strong>Nota:</strong> Datos de ejemplo almacenados en el navegador (localStorage).</span>
            </footer>
        </section>

        <!-- SECCI√ìN √ìRDENES -->
        <section class="panel-section" data-section="ordenes">
            <h2 class="section-title">√ìrdenes / Ventas registradas</h2>
            <p class="section-subtitle">Aqu√≠ el admin consulta cada venta realizada (tabla siempre actualizada).</p>

            <section class="card-plain">
                <div class="table-wrapper">
                    <table>
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>Producto</th>
                            <th>Categor√≠a</th>
                            <th>Cantidad</th>
                            <th>Total</th>
                            <th>Fecha</th>
                        </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                        <!-- Rellenado por JS -->
                        </tbody>
                    </table>

                    <div id="ordersEmptyState" class="empty-state">
                        A√∫n no se registran ventas.
                        <span>Registra una venta desde la secci√≥n de Productos.</span>
                    </div>
                </div>
            </section>
        </section>

        <!-- SECCI√ìN USUARIOS -->
        <section class="panel-section" data-section="usuarios">
            <h2 class="section-title">Usuarios</h2>
            <p class="section-subtitle">
                Vista demostrativa. Aqu√≠ m√°s adelante podr√≠an administrarse los clientes o administradores del sistema.
            </p>

            <section class="card-plain">
                <p>
                    Usuario actualmente autenticado:
                    <strong id="currentAdminNameText">(ninguno)</strong>
                </p>
                <p class="mt-8">
                    Cuando inicies sesi√≥n en la parte superior derecha, aqu√≠ se reflejar√° el nombre del admin (evidencia del punto 14).
                </p>
            </section>
        </section>

        <!-- SECCI√ìN AJUSTES -->
        <section class="panel-section" data-section="ajustes">
            <h2 class="section-title">Ajustes</h2>
            <p class="section-subtitle">
                Configuraci√≥n visual del panel. Solo es demostrativo para que el men√∫ de navegaci√≥n sea funcional.
            </p>

            <section class="card-plain">
                <p>Puedes usar esta secci√≥n para mostrar ajustes del sistema m√°s adelante.</p>
            </section>
        </section>
    </main>
</div>

<!-- Librer√≠a para la gr√°fica -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- JS del panel -->
<script src="js/admin.js"></script>
</body>
</html>
