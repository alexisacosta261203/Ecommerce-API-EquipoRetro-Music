<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Retro Music | Panel de Administrador</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
<div class="admin-layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="logo">
            <div class="logo-img-wrapper">
                <img src="img/logo.png" alt="Retro Music logo" class="logo-img">
            </div>
            <div class="logo-text">
                <h1>Retro Music</h1>
                <span>Panel de administrador</span>
            </div>
        </div>

        <div>
            <div class="sidebar-section-title">Navegaci√≥n</div>
            <div class="menu">
                <button class="menu-btn active" data-section="productos">
                    <span class="icon">üé∏</span>
                    Productos
                </button>
                <button class="menu-btn" data-section="ordenes">
                    <span class="icon">üßæ</span>
                    √ìrdenes
                </button>
                <button class="menu-btn" data-section="usuarios">
                    <span class="icon">üë§</span>
                    Usuarios
                </button>
                <button class="menu-btn" data-section="ajustes">
                    <span class="icon">‚öôÔ∏è</span>
                    Ajustes
                </button>
            </div>
        </div>

        <div>
            <div class="sidebar-section-title">Resumen r√°pido</div>
            <div class="summary-card">
                <div>
                    <span class="label">Instrumentos</span><br>
                    <span class="value" id="summary-total">0</span>
                </div>
                <div>
                    <span class="label">Guitarras</span><br>
                    <span class="value" id="summary-guitarras">0</span>
                </div>
                <div>
                    <span class="label">Bajos</span><br>
                    <span class="value" id="summary-bajos">0</span>
                </div>
                <div>
                    <span class="label">Bater√≠as</span><br>
                    <span class="value" id="summary-baterias">0</span>
                </div>
            </div>
            <div class="badge-status">
                <div class="badge-status-dot"></div>
                Panel listo para demostraci√≥n (datos en memoria)
            </div>
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
        <!-- BARRA SUPERIOR: login admin -->
        <header class="top-bar">
            <div class="top-bar-left">
                <h2 class="top-title">Panel de administraci√≥n Retro Music</h2>
            </div>
            <div class="top-bar-right">
                <span class="admin-session-label">
                    Admin:
                    <strong id="adminNameLabel">No autenticado</strong>
                </span>
                <button id="loginBtn" class="btn-secondary">Iniciar sesi√≥n</button>
                <button id="logoutBtn" class="btn-secondary btn-secondary-danger" style="display:none;">
                    Cerrar sesi√≥n
                </button>
            </div>
        </header>

        <!-- SECCI√ìN PRODUCTOS -->
        <section class="section active" id="section-productos">
            <div class="main-header">
                <div class="main-header-info">
                    <h2>
                        Gesti√≥n de instrumentos
                        <span class="emoji">üéõÔ∏è</span>
                    </h2>
                    <p>Agrega, edita o elimina instrumentos del cat√°logo de Retro Music.</p>
                </div>

                <div class="top-actions">
                    <div class="pill">
                        <div class="pill-dot"></div>
                        Vista de admin ‚Äì requiere sesi√≥n iniciada
                    </div>

                    <div class="search-wrapper">
                        <input
                            type="text"
                            id="searchInput"
                            class="search-input"
                            placeholder="Buscar por nombre o marca..."
                        />
                        <span class="search-icon">üîç</span>
                    </div>

                    <select id="filterCategory" class="filter-select">
                        <option value="todas">Todas las categor√≠as</option>
                        <option value="guitarras">Guitarras</option>
                        <option value="guitarras-electricas">Guitarras el√©ctricas</option>
                        <option value="bajos">Bajos</option>
                        <option value="baterias">Bater√≠as</option>
                    </select>

                    <button type="button" class="btn-primary" id="scrollToFormBtn">
                        <span>Ôºã</span> Nuevo producto
                    </button>
                </div>
            </div>

            <div class="content">
                <!-- FORMULARIO PRODUCTO -->
                <section class="card">
                    <div class="card-header">
                        <div>
                            <h3 id="formTitle">Agregar instrumento</h3>
                            <span id="formSubtitle">
                                Completa los campos para a√±adir un nuevo instrumento al cat√°logo.
                            </span>
                        </div>
                    </div>

                    <form id="productForm">
                        <input type="hidden" id="editingId" />

                        <div class="form-grid">
                            <div class="form-group">
                                <label for="name">Nombre del producto *</label>
                                <input
                                    type="text"
                                    id="name"
                                    class="form-control"
                                    placeholder="Ej. Fender Edici√≥n limitada California Vintage Malibu"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="brand">Marca *</label>
                                <input
                                    type="text"
                                    id="brand"
                                    class="form-control"
                                    placeholder="Ej. Fender, Gibson, Yamaha..."
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="category">Categor√≠a *</label>
                                <select id="category" class="form-select" required>
                                    <option value="">Selecciona una opci√≥n</option>
                                    <option value="guitarras">Guitarras</option>
                                    <option value="guitarras-electricas">Guitarras el√©ctricas</option>
                                    <option value="bajos">Bajos</option>
                                    <option value="baterias">Bater√≠as</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="price">Precio (MXN) *</label>
                                <input
                                    type="number"
                                    id="price"
                                    class="form-control"
                                    placeholder="Ej. 19999"
                                    min="0"
                                    step="0.01"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="stock">Stock *</label>
                                <input
                                    type="number"
                                    id="stock"
                                    class="form-control"
                                    placeholder="Ej. 10"
                                    min="0"
                                    step="1"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="image">URL de imagen</label>
                                <input
                                    type="url"
                                    id="image"
                                    class="form-control"
                                    placeholder="https://tus-imagenes.com/guitarra-fender.png"
                                />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="description">Descripci√≥n breve</label>
                            <textarea
                                id="description"
                                class="form-textarea"
                                placeholder="Cuerpo de concierto Malibu con tapa de abeto y fondo de caoba..."
                            ></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn-outline" id="resetFormBtn">
                                Limpiar formulario
                            </button>
                            <button type="submit" class="btn-primary">
                                <span id="submitLabel">Guardar producto</span>
                            </button>
                        </div>
                    </form>
                </section>

                <!-- TABLA + REPORTES -->
                <section class="card-plain">
                    <div class="card-header">
                        <div>
                            <h3>Instrumentos registrados</h3>
                            <span id="productsCounter">0 productos en el cat√°logo.</span>
                        </div>
                    </div>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                            <tr>
                                <th>Instrumento</th>
                                <th>Categor√≠a</th>
                                <th>Precio</th>
                                <th>Stock</th>
                                <th>Acciones</th>
                            </tr>
                            </thead>
                            <tbody id="productsTableBody">
                            <!-- filas generadas por JS -->
                            </tbody>
                        </table>

                        <div id="emptyState" class="empty-state">
                            No hay instrumentos registrados a√∫n.
                            <span>Agrega tu primera guitarra, bajo o bater√≠a con el formulario de la izquierda.</span>
                        </div>
                    </div>

                    <!-- Reporte existencias + total ventas -->
                    <div class="report-grid">
                        <div class="mini-card">
                            <h4>Reporte de existencias</h4>
                            <ul id="stockReportList" class="mini-list"></ul>
                        </div>
                        <div class="mini-card">
                            <h4>Total de ventas de la tienda</h4>
                            <p class="total-ventas" id="totalCompanySales">$0 MXN</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- SECCI√ìN VENTAS Y GR√ÅFICA -->
            <section class="sales-layout">
                <article class="card">
                    <div class="card-header">
                        <div>
                            <h3>Registrar venta</h3>
                            <span>
                                Simula una venta para mostrar el <strong>antes y despu√©s</strong> en la tabla,
                                el reporte y la gr√°fica.
                            </span>
                        </div>
                    </div>

                    <form id="saleForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="saleProduct">Instrumento *</label>
                                <select id="saleProduct" class="form-select" required>
                                    <!-- opciones generadas por JS -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="saleQuantity">Cantidad *</label>
                                <input
                                    type="number"
                                    id="saleQuantity"
                                    class="form-control"
                                    min="1"
                                    step="1"
                                    required
                                />
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                Registrar venta
                            </button>
                        </div>
                    </form>

                    <p class="hint">
                        Si el stock llega a <strong>0</strong>, el instrumento mostrar√° el mensaje:
                        <em>‚Äúpor el momento este producto no est√° disponible‚Äù</em>.
                    </p>
                </article>

                <article class="card-plain">
                    <div class="card-header">
                        <div>
                            <h3>Historial de ventas</h3>
                            <span>Tabla din√°mica que se actualiza en cada venta.</span>
                        </div>
                    </div>

                    <div class="table-wrapper mini-table-wrapper">
                        <table>
                            <thead>
                            <tr>
                                <th>Instrumento</th>
                                <th>Cantidad</th>
                                <th>Importe</th>
                                <th>Fecha</th>
                            </tr>
                            </thead>
                            <tbody id="salesTableBody">
                            <!-- filas generadas por JS -->
                            </tbody>
                        </table>

                        <div id="salesEmptyState" class="empty-state">
                            A√∫n no se registran ventas.
                            <span>Realiza una venta para ver el movimiento en la tabla y la gr√°fica.</span>
                        </div>
                    </div>
                </article>

                <article class="card-plain">
                    <div class="card-header">
                        <div>
                            <h3>Gr√°fica de ventas por instrumento</h3>
                            <span>Gr√°fica que muestra el total vendido por instrumento.</span>
                        </div>
                    </div>

                    <div class="chart-wrapper">
                        <canvas id="salesChart"></canvas>
                    </div>
                </article>
            </section>
        </section>

        <!-- SECCI√ìN √ìRDENES -->
        <section class="section" id="section-ordenes">
            <h2 class="section-title">√ìrdenes</h2>
            <p class="section-desc">
                Vista de ejemplo para navegaci√≥n. Aqu√≠ podr√≠an listarse √≥rdenes del sistema de e-commerce.
            </p>
            <div class="card-plain">
                <p>Aqui se van a ver las √≥rdenes.</p>
            </div>
        </section>

        <!-- SECCI√ìN USUARIOS -->
        <section class="section" id="section-usuarios">
            <h2 class="section-title">Usuarios</h2>
            <p class="section-desc">
                Vista de ejemplo para navegaci√≥n de usuarios administradores / clientes.
            </p>
            <div class="card-plain">
                <p>Aqui van a ir los Usuarios de admin y clientes./p>
            </div>
        </section>

        <!-- SECCI√ìN AJUSTES -->
        <section class="section" id="section-ajustes">
            <h2 class="section-title">Ajustes</h2>
            <p class="section-desc">
                Aqu√≠ podr√≠an configurarse par√°metros del sistema (moneda, impuestos, etc.).
            </p>
            <div class="card-plain">
                <p>Contenido de prueba en ajustes. La navegaci√≥n muestra que el panel est√° dividido en secciones.</p>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="footer">
            <span>Retro Music ¬∑ Panel de administraci√≥n</span>
            <span><strong>Nota:</strong> Datos de ejemplo gestionados en el front-end para la demostraci√≥n.</span>
        </footer>
    </main>
</div>

<!-- Chart.js para la gr√°fica -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- JS del panel -->
<script src="js/admin.js"></script>
</body>
</html>
